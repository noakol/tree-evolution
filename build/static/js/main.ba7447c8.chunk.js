(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,r){e.exports=r.p+"static/media/share-icon.05f1e922.png"},21:function(e,t,r){e.exports=r(33)},26:function(e,t,r){},32:function(e,t,r){},33:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(17),c=r.n(o),i=(r(26),r(1)),l=r(2),s=r(5),u=r(3),d=r(4),p=r(11),h=r(10),m=r(8),f={SET_SELECT_TREE:"SET_SELECT_TREE",SET_VIEW_MODE:"SET_VIEW_MODE",CLEAR_STATE:"CLEAR_STATE"};var E=Object(h.b)(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=r.type,a=r.payload;switch(n){case f.SET_SELECT_TREE:e=Object(m.a)({},t,{selectedTree:a});break;case f.SET_VIEW_MODE:e=Object(m.a)({},t,{mode:a});break;case f.CLEAR_STATE:e={};break;default:e=t}return e}),v=function(e){var t=e.treeProps,r=e.treeStyle,n=e.leafStyle,o=e.trunkStyle,c=e.frutieStyle,i=e.handleTreeSelect,l=void 0===i?function(){}:i,s=e.containerClassName;return a.a.createElement("div",{className:s?"box ".concat(s):"box",onClick:function(){return l(t)}},a.a.createElement("div",{className:"center-circle",style:r},a.a.createElement("div",{className:"fruties-container"},a.a.createElement("div",{className:"tree-frutie",style:c}),a.a.createElement("div",{className:"tree-frutie",style:c}),a.a.createElement("div",{className:"tree-frutie",style:c})),a.a.createElement("div",{className:"center-circle-copy",style:r}),a.a.createElement("div",{className:"leaf-one",style:n}),a.a.createElement("div",{className:"leaf-two",style:n}),a.a.createElement("div",{className:"leaf-three",style:n}),a.a.createElement("div",{className:"leaf-four",style:n}),a.a.createElement("div",{className:"leaf-five",style:n}),a.a.createElement("div",{className:"leaf-six",style:n}),a.a.createElement("div",{className:"leaf-seven",style:n}),a.a.createElement("div",{className:"leaf-height",style:n}),a.a.createElement("div",{className:"leaf-nine",style:n}),a.a.createElement("div",{className:"leaf-ten",style:n}),a.a.createElement("div",{className:"trunk",style:o})))},b={viewMode:{present:"present",select:"select"},numberOfChildren:3,propsArray:["mainColor","trunkWidth","trunkColor","treeTopBorder","frutieColor","frutieExist"],borderStyles:["solid","dashed","dotted","double"]},S=function(e){var t=b.propsArray[C(0,b.propsArray.length)],r=Object(m.a)({},e);return r[t]=g(t),r},y=function(){return"#"+Math.round(16777215*Math.random()).toString(16)},C=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},g=function(e){var t;switch(e){case"mainColor":t=y();break;case"trunkWidth":t=C(5,51);break;case"trunkColor":t=y();break;case"treeTopBorder":t=T();break;case"frutieColor":t=y();break;case"frutieExist":t=C(0,2)}return t},T=function(){var e={borderColor:y(),borderWidth:C(0,10),borderStyle:b.borderStyles[C(0,b.borderStyles.length)]};return console.log(e),e},w=function(e){return e?{treeStyle:{backgroundColor:e.mainColor},leafStyle:{backgroundColor:e.mainColor,border:(t=e.treeTopBorder,t?"".concat(t.borderStyle," ").concat(t.borderWidth,"px ").concat(t.borderColor):"")},trunkStyle:{width:"".concat(e.trunkWidth,"%"),backgroundColor:e.trunkColor},frutieStyle:{display:!e.frutieExist&&"none",backgroundColor:e.frutieColor}}:{};var t},k=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.parentProps;return a.a.createElement(v,Object.assign({treeProps:e},w(e),{containerClassName:"parent"}))}}]),t}(n.Component),O=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(s.a)(this,Object(u.a)(t).call(this,e))).config=b,r}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generateChildrenProps",value:function(){for(var e=this.props.parentProps,t=this.config.numberOfChildren,r=[];t;)r.push(S(e)),t--;return r}},{key:"render",value:function(){var e=this,t=this.generateChildrenProps();return a.a.createElement("div",{className:"children-container"},t.length&&t.map(function(t,r){return a.a.createElement(v,Object.assign({},w(t),{handleTreeSelect:e.props.handleChildClick,key:r,treeProps:t}))}))}}]),t}(n.PureComponent),j=r(19),N=r.n(j),M=r(20),A=r.n(M),P=function(e){var t=e.props;return a.a.createElement("div",{className:"tree-presentation-container"},a.a.createElement("h1",null,"This is My tree!"),a.a.createElement(v,Object.assign({treeProps:t},w(t),{containerClassName:"parent"})))},_=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(r=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleShare=function(e){var t=window.location.href+encodeURI("&mode=present");A()(t,{message:"A link was coppied in to your clipbaord!"})},r.handleChildClick=function(e){r.props.setSelectedTree(e)},r.getSelectionViewMarkup=function(){var e=r.props.parentProps;return a.a.createElement("div",null,a.a.createElement("button",{className:"share",onClick:r.handleShare,value:"bla"},a.a.createElement("img",{src:N.a,alt:"share"})),a.a.createElement("div",{className:"trees-container"},a.a.createElement(k,{parentProps:e}),a.a.createElement(O,{handleChildClick:r.handleChildClick,parentProps:e})))},r}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.onpopstate=function(){e.props.updateSelectedTreeFromUrl()},this.props.setInitialState()}},{key:"render",value:function(){var e=this.props,t=e.mode,r=e.parentProps;return r?t===b.viewMode.present?a.a.createElement(P,{props:r}):this.getSelectionViewMarkup():null}}]),t}(n.Component),R=function(e){return{type:e,payload:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}},x={viewMode:b.viewMode.select,selectedTree:{mainColor:y(),trunkWidth:C(5,51),treeTopBorder:T(),frutieColor:y(),frutieExist:C(0,2)}},I=new function e(t){var r=this;Object(i.a)(this,e),this.setInitialState=function(){var e=new URLSearchParams(window.location.search),t=e.get("props"),n=e.get("mode");if(t&&n)try{r.updateSelectedTreeFromUrl()}catch(a){r.clearStateAction(),alert("the props set from the url are invalid"+a)}else r.updateSelectedTree(x)},this.getParentProps=function(){return r.store.getState().selectedTree},this.updateSelectedTree=function(e){r.updateSelectedTreeAction(e),r.updateUrl(e)},this.updateUrl=function(e){var t=r.getEncodedQuery(JSON.stringify(e));window.history.pushState(null,null,"?props="+t)},this.updateSelectedTreeFromUrl=function(){var e=new URLSearchParams(window.location.search),t=r.parseQuery(e.get("props")),n=e.get("mode");t&&r.updateSelectedTreeAction(t),n&&r.updateViewModeAction(n)},this.getViewMode=function(){return r.store.getState().mode},this.parseQuery=function(e){if(e){var t=decodeURI(e);return JSON.parse(t)}return null},this.getEncodedQuery=function(e){var t=new RegExp("%3A","g"),r=new RegExp("%2C","g"),n=encodeURIComponent(e);return n=(n=n.replace(t,":")).replace(r,",")},this.updateSelectedTreeAction=function(e){r.store.dispatch(R(f.SET_SELECT_TREE,e))},this.updateViewModeAction=function(e){r.store.dispatch(R(f.SET_VIEW_MODE,e))},this.clearStateAction=function(){r.store.dispatch(R(f.CLEAR_STATE))},this.store=t}(E),U=Object(p.b)(function(){return{parentProps:I.getParentProps(),mode:I.getViewMode()}},function(){return{setSelectedTree:function(e){I.updateSelectedTree(e)},updateSelectedTreeFromUrl:function(){I.updateSelectedTreeFromUrl()},setInitialState:function(){I.setInitialState()}}})(_);r(32);window.store=E;var W=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement(p.a,{store:E},a.a.createElement(U,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.ba7447c8.chunk.js.map